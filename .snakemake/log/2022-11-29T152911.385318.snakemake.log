Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job                 count    min threads    max threads
----------------  -------  -------------  -------------
assemble_flye           4              4              4
assemble_miniasm        4              4              4
assemble_raven          4              4              4
cluster                 1              1              1
subsample               1              4              4
total                  14              1              4

Select jobs to execute...

[Tue Nov 29 15:29:11 2022]
Job 2: 
        Subsampling EC2D2/filtered.fastq in 12 parts.
        
Reason: Code has changed since last execution; Params have changed since last execution

[Tue Nov 29 15:29:52 2022]
Finished job 2.
1 of 14 steps (7%) done
Select jobs to execute...

[Tue Nov 29 15:29:52 2022]
Job 7: 
        Assembling EC2D2/read_subsets/sample_05.fastq with raven.
        
Reason: Missing output files: EC2D2/assemblies/assembly_05.fasta; Input files updated by another job: EC2D2/read_subsets/sample_05.fastq

[Tue Nov 29 15:29:58 2022]
Finished job 7.
2 of 14 steps (14%) done
Select jobs to execute...

[Tue Nov 29 15:29:58 2022]
Job 9: 
        Assembling EC2D2/read_subsets/sample_07.fastq with raven.
        
Reason: Missing output files: EC2D2/assemblies/assembly_07.fasta; Input files updated by another job: EC2D2/read_subsets/sample_07.fastq

[Tue Nov 29 15:30:04 2022]
Finished job 9.
3 of 14 steps (21%) done
Select jobs to execute...

[Tue Nov 29 15:30:04 2022]
Job 11: 
        Assembling EC2D2/read_subsets/sample_09.fastq with miniasm.
        
Reason: Missing output files: EC2D2/assemblies/assembly_09.fasta; Input files updated by another job: EC2D2/read_subsets/sample_09.fastq

RuleException in rule assemble_miniasm  in line 93 of /home/valentin/Desktop/richardLab/scicore_local/PhD/Phage_project/Sequencing/trycycler/pipeline/Snakefile:
AttributeError: 'Params' object has no attribute 'threads', when formatting the following:

        mkdir {params.tmp_dir}
        minimap2 -x ava-ont -t {params.threads} {input.subsampled} {input.subsampled}         > {params.tmp_dir}/overlaps.paf
        miniasm -f {input.subsampled} {params.tmp_dir}/overlaps.paf > {params.tmp_dir}/unpolished.gfa
        minipolish --threads {params.threads} {input.subsampled} {params.tmp_dir}/unpolished.gfa >         {params.tmp_dir}/assembly.gfa
        any2fasta {params.tmp_dir}/assembly.gfa > {output.assembly}
        rm -r {params.tmp_dir}
        
